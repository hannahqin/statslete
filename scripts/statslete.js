PLAYERS = {"Sterling Brown": 1628425, "Pau Gasol": 2200, "George Hill": 201588, "Joakim Noah": 201149, "Jordan Bell": 1628395, "Tyler Ulis": 1627755, "Draymond Green": 203110, "Kyle Lowry": 200768, "Raymond Felton": 101109, "Thaddeus Young": 201152, "Kevin Love": 201567, "Charles Cooke": 1628429, "Nikola Vucevic": 202696, "Aaron Brooks": 201166, "Jodie Meeks": 201975, "Jarell Martin": 1626185, "Antonio Blakeney": 1628469, "Andrew Harrison": 1626150, "Isaiah Thomas": 202738, "DeAndre' Bembry": 1627761, "Paul Millsap": 200794, "Avery Bradley": 202340, "Okaro White": 1627855, "Joe Johnson": 2207, "Will Barton": 203115, "Nik Stauskas": 203917, "Brandon Paul": 203464, "Jerami Grant": 203924, "DeMarcus Cousins": 202326, "Michael Carter-Williams": 203487, "Jabari Bird": 1628444, "Julius Randle": 203944, "Marc Gasol": 201188, " Nene": 2403, "Tony Parker": 2225, "Richaun Holmes": 1626158, "Michael Gbinije": 1627771, "LeBron James": 2544, "Brook Lopez": 201572, "Dwight Powell": 203939, "Justin Anderson": 1626147, "Zach Randolph": 2216, "DeAndre Liggins": 202732, "Enes Kanter": 202683, "Marcus Paige": 1627779, "Wesley Matthews": 202083, "Willy Hernangomez": 1626195, "Yogi Ferrell": 1627812, "Justin Jackson": 1628382, "Qi Zhou": 1627753, "Mario Chalmers": 201596, "Terry Rozier": 1626179, "Alex Abrines": 203518, "Markelle Fultz": 1628365, "Justise Winslow": 1626159, "Jerian Grant": 1626170, "Patrick McCaw": 1627775, "Zach Collins": 1628380, "Salah Mejri": 1626257, "John Wall": 202322, "Otto Porter Jr.": 203490, "TJ Warren": 203933, "Al-Farouq Aminu": 202329, "Al Horford": 201143, "Kyle O'Quinn": 203124, "James Johnson": 201949, "Marcus Morris": 202694, "Amir Johnson": 101161, "Jonathon Simmons": 203613, "Luis Montero": 1626242, "Tyler Zeller": 203092, "Montrezl Harrell": 1626149, "Daniel Theis": 1628464, "Ersan Ilyasova": 101141, "JR Smith": 2747, "Aron Baynes": 203382, "Bryn Forbes": 1627854, "Reggie Jackson": 202704, "Delon Wright": 1626153, "Jimmy Butler": 202710, "Jamil Wilson": 203966, "Courtney Lee": 201584, "Luol Deng": 2736, "Jawun Evans": 1628393, "Troy Williams": 1627786, "Sam Dekker": 1626155, "Eric Bledsoe": 202339, "Zaza Pachulia": 2585, "Timothe Luwawu-Cabarrot": 1627789, "Lucas Nogueira": 203512, "Dejounte Murray": 1627749, "Juan Hernangomez": 1627823, "Jamal Crawford": 2037, "Joe Ingles": 204060, "Tarik Black": 204028, "Tyler Johnson": 204020, "Ish Smith": 202397, "Noah Vonleh": 203943, "Chinanu Onuaku": 1627778, "Terrance Ferguson": 1628390, "Donovan Mitchell": 1628378, "Kentavious Caldwell-Pope": 203484, "Malcolm Miller": 1626259, "Luc Mbah a Moute": 201601, "Furkan Korkmaz": 1627788, "DeAndre Jordan": 201599, "Jordan Clarkson": 203903, "Goran Dragic": 201609, "Caleb Swanigan": 1628403, "Danilo Gallinari": 201568, "Abdel Nader": 1627846, "Stephen Curry": 201939, "Jon Leuer": 202720, "Derrick White": 1628401, "Andrew Wiggins": 203952, "Caris LeVert": 1627747, "Josh Richardson": 1626196, "Mangok Mathiang": 1628493, "Yakuba Ouattara": 1628473, "Josh Hart": 1628404, "Wesley Johnson": 202325, "Frank Mason": 1628412, "Kelly Olynyk": 203482, "Steven Adams": 203500, "T.J. McConnell": 204456, "OG Anunoby": 1628384, "David West": 2561, "Alex Poythress": 1627816, "LaMarcus Aldridge": 200746, "Kris Dunn": 1627739, "Willie Reed": 203186, "Rajon Rondo": 200765, "Tyus Jones": 1626145, "Malachi Richardson": 1627781, "Timofey Mozgov": 202389, "Ivica Zubac": 1627826, "Troy Daniels": 203584, "Omri Casspi": 201956, "Chris Paul": 101108, "Marcus Smart": 203935, "Malcolm Delaney": 1627098, "Kemba Walker": 202689, "Trevor Booker": 202344, "Dakari Johnson": 1626177, "J.J. Barea": 200826, "Tyreke Evans": 201936, "Tyler Dorsey": 1628416, "Reggie Bullock": 203493, "Meyers Leonard": 203086, "Mike Conley": 201144, "Jayson Tatum": 1628369, "Frank Jackson": 1628402, "Treveon Graham": 1626203, "Michael Kidd-Gilchrist": 203077, "Jeff Teague": 201952, "Daniel Hamilton": 1627772, "Pat Connaughton": 1626192, "Sean Kilpatrick": 203930, "Evan Turner": 202323, "Trevor Ariza": 2772, "Cameron Payne": 1626166, "Cory Joseph": 202709, "Rodney McGruder": 203585, "C.J. Williams": 203710, "Zach LaVine": 203897, "Mike Scott": 203118, "Shelvin Mack": 202714, "Jeff Green": 201145, "Gorgui Dieng": 203476, "Dillon Brooks": 1628415, "Tony Allen": 2754, "Dwight Buycks": 202779, "Ben Simmons": 1627732, "James Harden": 201935, "Kevin Durant": 201142, "David Nwaba": 1628021, "JaVale McGee": 201580, "Damian Lillard": 203081, "Austin Rivers": 203085, "Corey Brewer": 201147, "Jacob Wiley": 1628451, "Alan Williams": 1626210, "Mirza Teletovic": 203141, "Kyrie Irving": 202681, "Darrell Arthur": 201589, "Darrun Hilliard": 1626199, "Joe Harris": 203925, "Josh Jackson": 1628367, "Jason Terry": 1891, "Rudy Gobert": 203497, "Giannis Antetokounmpo": 203507, "Cheick Diallo": 1627767, "Nate Wolters": 203489, "Kenneth Faried": 202702, "Derrick Walton Jr.": 1628476, "Shaun Livingston": 2733, "Larry Nance Jr.": 1626204, "Vince Carter": 1713, "Bradley Beal": 203078, "Pascal Siakam": 1627783, "Jose Calderon": 101181, "Miles Plumlee": 203101, "Jamal Murray": 1627750, "CJ Wilcox": 203912, "CJ McCollum": 203468, "Tyler Ennis": 203898, "Monte Morris": 1628420, "Nick Young": 201156, "Adreian Payne": 203940, "PJ Tucker": 200782, "Chris McCullough": 1626191, "Josh Magette": 203705, "Kosta Koufos": 201585, "Bam Adebayo": 1628389, "Johnathan Motley": 1628405, "Denzel Valentine": 1627756, "Davis Bertans": 202722, "Alex Caruso": 1627936, "De'Aaron Fox": 1628368, "Paul Zipser": 1627835, "Norman Powell": 1626181, "Jalen Jones": 1627883, "Khem Birch": 203920, "Marvin Williams": 101107, "Julyan Stone": 202933, "Devin Booker": 1626164, "Raul Neto": 203526, "Jameer Nelson": 2749, "Bismack Biyombo": 202687, "Willie Cauley-Stein": 1626161, "Ben McLemore": 203463, "Robert Covington": 203496, "Patrick Beverley": 201976, "Maxi Kleber": 1628467, "Malik Beasley": 1627736, "Justin Patton": 1628383, "Karl-Anthony Towns": 1626157, "Anthony Tolliver": 201229, "Georges Niang": 1627777, "Eric Moreland": 203961, "Taj Gibson": 201959, "Anthony Davis": 203076, "Ike Anigbogu": 1628387, "Ante Zizic": 1627790, "Dwayne Bacon": 1628407, "Doug McDermott": 203926, "Jonathan Isaac": 1628371, "CJ Miles": 101139, "Mike James": 1628455, "Lorenzo Brown": 203485, "Kobi Simmons": 1628424, "John Collins": 1628381, "Glenn Robinson III": 203922, "Wayne Ellington": 201961, "James Ennis III": 203516, "Khris Middleton": 203114, "Thomas Bryant": 1628418, "Solomon Hill": 203524, "Robin Lopez": 201577, "Tim Frazier": 204025, "Wes Iwundu": 1628411, "Jeff Withey": 203481, "Lance Stephenson": 202362, "E'Twaun Moore": 202734, "Frank Kaminsky": 1626163, "Lance Thomas": 202498, "Quincy Acy": 203112, "Brandon Knight": 202688, "Carmelo Anthony": 2546, "TJ Leaf": 1628388, "Jae Crowder": 203109, "Elfrid Payton": 203901, "Jeremy Lamb": 203087, "Thabo Sefolosha": 200757, "Kyle Korver": 2594, "Nick Collison": 2555, "Wilson Chandler": 201163, "Cole Aldrich": 202332, "Josh McRoberts": 201177, "JaMychal Green": 203210, "Dewayne Dedmon": 203473, "Alfonzo McKinnie": 1628035, "Kyle Kuzma": 1628398, "Justin Holiday": 203200, "Kay Felder": 1627770, "Damien Wilkins": 2863, "Garrett Temple": 202066, "Ekpe Udoh": 202327, "Luke Babbitt": 202337, "Brice Johnson": 1627744, "Kyle Singler": 202713, "Hassan Whiteside": 202355, "Alex Len": 203458, "Davon Reed": 1628432, "Ramon Sessions": 201196, "Jake Layman": 1627774, "Ricky Rubio": 201937, "Rudy Gay": 200752, "Carrick Felix": 203467, "Buddy Hield": 1627741, "Jahlil Okafor": 1626143, "Dennis Schroder": 203471, "Allen Crabbe": 203459, "Nicolas Brussino": 1627852, "Luke Kornet": 1628436, "Dwyane Wade": 2548, "Jordan Mickey": 1626175, "Jamel Artis": 1628503, "Joel Embiid": 203954, "Malik Monk": 1628370, "Dragan Bender": 1627733, "Rondae Hollis-Jefferson": 1626178, "Patrick Patterson": 202335, "Gordon Hayward": 202330, "Manu Ginobili": 1938, "Marco Belinelli": 201158, "Quincy Pondexter": 202347, "Rodney Hood": 203918, "JaKarr Sampson": 203960, "Jabari Parker": 203953, "Jonas Valanciunas": 202685, "Kyle Anderson": 203937, "Langston Galloway": 204038, "Anthony Brown": 1626148, "Malcolm Brogdon": 1627763, "Ian Clark": 203546, "Gian Clavell": 1628492, "Seth Curry": 203552, "James Michael McAdoo": 203949, "Blake Griffin": 201933, "Brandan Wright": 201148, "Bojan Bogdanovic": 202711, "Omer Asik": 201600, "Dante Exum": 203957, "Tony Bradley": 1628396, "D'Angelo Russell": 1626156, "Tyler Lydon": 1628399, "Luke Kennard": 1628379, "Georgios Papagiannis": 1627834, "Dante Cunningham": 201967, "Tristan Thompson": 202684, "Vince Hunter": 629208, "Kevon Looney": 1626172, "Michael Beasley": 201563, "Marreese Speights": 201578, "Mike Muscala": 203488, "Tobias Harris": 202699, "Jacob Pullen": 1626643, "Matt Costello": 1627856, "Cristiano Felicio": 1626245, "Lou Williams": 101150, "Eric Gordon": 201569, "Bogdan Bogdanovic": 203992, "Ian Mahinmi": 101133, "Fred VanVleet": 1627832, "Clint Capela": 203991, "Danny Green": 201980, "Aaron Gordon": 203932, "Wayne Selden": 1627782, "Russell Westbrook": 201566, "Trey Lyles": 1626168, "Dirk Nowitzki": 1717, "Bobby Portis": 1626171, "DeMar DeRozan": 201942, "Dorian Finney-Smith": 1627827, "PJ Dozier": 1628408, "Ron Baker": 1627758, "Kelly Oubre Jr.": 1626162, "Shabazz Napier": 203894, "Mason Plumlee": 203486, "KJ McDaniels": 203909, "Emmanuel Mudiay": 1626144, "John Holland": 204066, "Iman Shumpert": 202697, "JJ Redick": 200755, "Harrison Barnes": 203084, "Ryan Anderson": 201583, "Henry Ellenson": 1627740, "Skal Labissiere": 1627746, "Joffrey Lauvergne": 203530, "Serge Ibaka": 201586, "Chris Boucher": 1628449, "Tyson Chandler": 2199, "Isaiah Whitehead": 1627785, "Jerryd Bayless": 201573, "Bruno Caboclo": 203998, "Tim Hardaway Jr.": 203501, "Marquese Chriss": 1627737, "Kadeem Allen": 1628443, "Isaiah Taylor": 1627819, "Gary Payton II": 1627780, "Spencer Dinwiddie": 203915, "Ryan Arcidiacono": 1627853, "Cedi Osman": 1626224, "Mike Young": 1628454, "Damyean Dotson": 1628422, "Udonis Haslem": 2617, "Tony Snell": 203503, "Dion Waiters": 203079, "Eric Griffin": 203547, "Kent Bazemore": 203145, "Harry Giles": 1628385, "Darius Miller": 203121, "Nemanja Bjelica": 202357, "Lonzo Ball": 1628366, "Guerschon Yabusele": 1627824, "Klay Thompson": 202691, "Terrence Ross": 203082, "Jarrett Allen": 1628386, "Damian Jones": 1627745, "Andre Drummond": 203083, "Nicolas Batum": 201587, "Devin Robinson": 1628421, "Arron Afflalo": 201167, "Domantas Sabonis": 1627734, "Cody Zeller": 203469, "Royce O'Neale": 1626220, "Quinn Cook": 1626188, "Demetrius Jackson": 1627743, "Bobby Brown": 201628, "Derrick Rose": 201565, "Myles Turner": 1626167, "Lauri Markkanen": 1628374, "Maurice Harkless": 203090, "Trevor Thompson": 1628545, "Marcin Gortat": 101162, "Frank Ntilikina": 1628373, "Jaylen Brown": 1627759, "Kawhi Leonard": 202695, "Alec Peters": 1628409, "Al Jefferson": 2744, "D.J. Wilson": 1628391, "Milos Teodosic": 1628462, "Channing Frye": 101112, "Devin Harris": 2734, "Shane Larkin": 203499, "Darren Collison": 201954, "Alec Burks": 202692, "DeMarre Carroll": 201960, "Ivan Rabb": 1628397, "Nerlens Noel": 203457, "Thon Maker": 1627748, "Edmond Sumner": 1628410, "Andre Iguodala": 2738, "Stanley Johnson": 1626169, "Josh Huestis": 203962, "Taurean Prince": 1627752, "Evan Fournier": 203095, "Mario Hezonja": 1626209, "Jared Dudley": 201162, "Alexis Ajinca": 201582, "John Henson": 203089, "Torrey Craig": 1628470, "Andre Roberson": 203460, "Jusuf Nurkic": 203994, "Deyonta Davis": 1627738, "Jonas Jerebko": 201973, "Jason Smith": 201160, "Jarrett Jack": 101127, "Markieff Morris": 202693, "Jack Cooley": 204022, "Brandon Ingram": 1627742, "Mindaugas Kuzminskas": 1627851, "Dwight Howard": 2730, "Matthew Dellavedova": 203521, "Sheldon Mac": 1627815, "Patty Mills": 201988, "Greg Monroe": 202328, "Marcus Georges-Hunt": 1627875, "Matt Williams Jr.": 1628475, "Shabazz Muhammad": 203498, "Kristaps Porzingis": 204001, "Tomas Satoransky": 203107, "Semi Ojeleye": 1628400, "Chandler Parsons": 202718, "AJ Hammons": 1627773, "Dennis Smith Jr.": 1628372, "Ed Davis": 202334, "Nikola Mirotic": 202703, "Joe Young": 1626202, "Jordan Crawford": 202348, "Derrick Jones Jr.": 1627884, "Victor Oladipo": 203506, "Nikola Jokic": 203999, "D.J. Augustin": 201571, "Andrew Bogut": 101106, "Derrick Favors": 202324, "Johnny O'Bryant III": 203948, "Dario Saric": 203967, "Jrue Holiday": 201950, "Boban Marjanovic": 1626246, "Jeremy Lin": 202391, "Gary Harris": 203914, "Jakob Poeltl": 1627751, "Rashad Vaughn": 1626173, "Paul George": 202331, "Sindarius Thornwell": 1628414}
PLAYERIDS = []
PLAYERIDVISITED = {}

chrome.runtime.onMessage.addListener(
    function(request, sender, sendResponse) {

        if ( request.action === "getText" ) {
            //sendResponse({data: request.source, method: "getText"}); //same as innerText
            // console.log(request.source)


            // parse consecutive capital letters in article
            str = request.source.replace(/\b[-.,()&$#!/\[\]{}"']+\B|\B[-.,()&$#!?/\[\]{}'"]+\b/g, "");
            split = str.trim().split(/\s+/);
            twoPrev = "a";
            onePrev = "a";
            for (i = 0; i < split.length; i++) {
                if (/[A-Z]/.test( split[i][0]) && /[A-Z]/.test( onePrev[0]) && /[A-Z]/.test( twoPrev[0])) {
                    string = twoPrev + " " + onePrev + " " + split[i];
                    if (string in PLAYERS && !(string in PLAYERIDVISITED)) {
                        console.log(string); console.log(PLAYERS[string]);
                        PLAYERIDS.push(PLAYERS[string]);
                        PLAYERIDVISITED[string] = 1;
                    }
                }

                if (/[A-Z]/.test( split[i][0]) && /[A-Z]/.test( onePrev[0])) {
                    string = onePrev + " " + split[i];
                    if (string in PLAYERS && !(string in PLAYERIDVISITED)) {
                        console.log(string); console.log(PLAYERS[string]);
                        PLAYERIDS.push(PLAYERS[string]);
                        PLAYERIDVISITED[string] = 1;
                    }
                }

                twoPrev = onePrev
                onePrev = split[i]
            }

            for (var i = 0; i < PLAYERIDS.length; i++) {
                // console.log("YO")
                getPlayerHeader(PLAYERIDS[i]);
            }
        }
    }
);

$(document).ready(function() {
    chrome.tabs.executeScript({code: "chrome.runtime.sendMessage({ action: 'getText', source: document.body.innerText});"});

    $('.back').click(function() {
        $('#athlete-bio').hide();
        $('.back').hide();
        $('#athlete-list').show();
    });
});


// Adds athlete with playerId to the list displayed of athletes that appear
// in the current page. When you click on an athlete in the list, it will call
// getPlayerBioInfo() to show more detailed info about that athlete.
function getPlayerHeader(playerId) {
  //console.log("HFKDS")
  //console.log(playerId)
    $.ajax({
        url: "https://stats.nba.com/stats/commonplayerinfo/?playerid=" + playerId,
        dataType: "jsonp",
        crossDomain: true,
        success: function (data) {
            // console.log("HI")
            // parse common player info into bio information
            var headers = ["FIRST_NAME", "LAST_NAME", "TEAM_NAME", "TEAM_CITY", "JERSEY", "POSITION"];
            var parsed_data = {}
            for (i = 0; i < headers.length; i++) {
                parsed_data[headers[i]] = data.resultSets[0].rowSet[0][data.resultSets[0].headers.indexOf(headers[i])];
            }

            // get player image url
            var image_url = "https://nba-players.herokuapp.com/players/" + parsed_data['LAST_NAME'] + "/" + parsed_data['FIRST_NAME'];

            var player = {
                'playerId': playerId,
                'name': parsed_data['FIRST_NAME'] + ' ' + parsed_data['LAST_NAME'],
                'team': parsed_data['TEAM_CITY'] + ' ' + parsed_data['TEAM_NAME'],
                'number': '#' + parsed_data['JERSEY'],
                'position': parsed_data['POSITION'],
                'image': image_url
            }

            addPlayerListDiv(player);
        }

    });
}

// Add a player to the list of players in the article using the info from playerDict
function addPlayerListDiv(playerDict) {
    var id = playerDict.name.replace(/\s+/g, '-').toLowerCase();
    var $athlete_div = $("<div>", {"class": "athlete", "id": id});

    $athlete_div.html('<div class="col"><div class="athlete-photo"></div></div><div class="col"><h2 class="athlete-name"></h2><h4 class="team-name"></h4><h4 class="position"><span class="number"></span><span class="position-title"></span></h4></div>');
    $("#athlete-list").append($athlete_div);

    var $arrow = $("<span>", {"class": "arrow"});
    $arrow.html('<img src="arrow.png" style="float:right">');
    $arrow.click(function() {
        getPlayerBioInfo(playerDict.playerId);
        getPlayerCurrentSeasonStats(playerDict.playerId);
    });
    $athlete_div.append($arrow);

    $('#' + id).find('.athlete-photo').css('background-image', 'url("' + playerDict.image + '")')
    $('#' + id).find('.athlete-name').text(playerDict.name);
    $('#' + id).find('.team-name').text(playerDict.team);
    $('#' + id).find('.position .number').text(playerDict.number);
    $('#' + id).find('.position .position-title').text(playerDict.position);
}


// makes an AJAX request to get the biography info for player with playerID.
// populates the HTML to fill in info about the player
function getPlayerBioInfo(playerId) {
    $.ajax({
        url: "https://stats.nba.com/stats/commonplayerinfo/?playerid=" + playerId,
        dataType: "jsonp",
        crossDomain: true,
        success: function (data) {
            console.log(data);

            // parse common player info into bio information
            var headers = ["FIRST_NAME", "LAST_NAME", "TEAM_NAME", "TEAM_CITY", "JERSEY", "POSITION", "SCHOOL", "HEIGHT", "WEIGHT"];
            var parsed_data = {}
            for (i = 0; i < headers.length; i++) {
                parsed_data[headers[i]] = data.resultSets[0].rowSet[0][data.resultSets[0].headers.indexOf(headers[i])];
            }

            // get player image url
            var image_url = "https://nba-players.herokuapp.com/players/" + parsed_data['LAST_NAME'] + "/" + parsed_data['FIRST_NAME'];

            var player = {
                'name': parsed_data['FIRST_NAME'] + ' ' + parsed_data['LAST_NAME'],
                'team': parsed_data['TEAM_CITY'] + ' ' + parsed_data['TEAM_NAME'],
                'number': '#' + parsed_data['JERSEY'],
                'position': parsed_data['POSITION'],
                'school': parsed_data['SCHOOL'],
                'height': parsed_data['HEIGHT'],
                'weight': parsed_data['WEIGHT'],
                'image': image_url
            }

            populatePlayerBioInfo(player);
        }
    });
}

function getPlayerCurrentSeasonStats(playerID) {
    $.ajax({
        url: "https://stats.nba.com/stats/playerdashboardbygeneralsplits/?PlayerID=" + playerID + "&MeasureType=Base&PerMode=PerGame&PlusMinus=N&PaceAdjust=N&Rank=N&Season=2017-18&SeasonType=Regular%20Season&Outcome=&Location=&SeasonSegment=&DateFrom=&DateTo=&VsConference=&VsDivision=&Month=0&OpponentTeamID=0&GameSegment=&Period=0&LastNGames=0",
        dataType: "jsonp",
        crossDomain: true,
        success: function (data) {
            console.log(data);

            //Store relevant player stats, and multipliers to calculate fantasy score
            var relevantStats = ["PTS", "REB", "AST", "STL", "BLK", "TOV"]
            var scoringMultiplier = [1,1.2,1.5,3,3,-1]
            var fantasyScore = 0.0
            var parsed_data = {}

            for(i = 0; i < relevantStats.length; i++){

              //Find stat from database
              var stat = data["resultSets"][0]["rowSet"][0][data["resultSets"][0]["headers"].indexOf(relevantStats[i])]
              //Add to dict
              parsed_data[relevantStats[i]] = stat
              //Calc fantasy score
              fantasyScore += parseFloat(stat) * scoringMultiplier[i]
            }


            var player = {

                'pts': parsed_data["PTS"],
                'reb': parsed_data["REB"],
                'ast': parsed_data["AST"],
                'stl': parsed_data["STL"],
                'blk': parsed_data["BLK"],
                'tov': parsed_data["TOV"],
                'score': fantasyScore
            }

            populatePlayerCurrentSeasonStats(player);

            // console.log(fantasyScore)
            $('#athlete-bio').show();
            $('.back').show();
            $('#athlete-list').hide();
        }
    });
}

// called from getPlayerBioInfo()
function populatePlayerBioInfo(playerDict) {
    $('#athlete-bio').find('.athlete-photo').css('background-image', 'url("' + playerDict.image + '")')
    $('#athlete-bio').find('.athlete-name').text(playerDict.name);
    $('#athlete-bio').find('.team-name').text(playerDict.team);
    $('#athlete-bio').find('.position .number').text(playerDict.number);
    $('#athlete-bio').find('.position .position-title').text(playerDict.position);
    $('#athlete-bio').find('.school').text('College: ' + playerDict.school);
    $('#athlete-bio').find('.height').text('Height: ' + playerDict.height);
    $('#athlete-bio').find('.weight').text('Weight: ' + playerDict.weight);
}


function populatePlayerCurrentSeasonStats(playerDict) {
    $('.pts').text('PTS:  ' + playerDict.pts)
    $('.reb').text('REB:  ' + playerDict.reb)
    $('.ast').text('AST:  ' + playerDict.ast)
    $('.stl').text('STL:  ' + playerDict.stl)
    $('.blk').text('BLK:  ' + playerDict.blk)
    $('.tov').text('TOV:  ' + playerDict.tov)
    $('.score').text('Fantasy PPG:  ' + playerDict.score)
}
